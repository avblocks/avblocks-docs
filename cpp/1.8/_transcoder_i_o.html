<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>AVBlocks for C++: Transcoder Input/Output Model</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="custom-doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-226295-16']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em; padding-bottom: 0.5em;">
   <div id="projectname">AVBlocks for C++
   &#160;<span id="projectnumber">1.8</span>
   </div>
   <div id="projectbrief">Audio and Video Software Development Kit</div>
   <!--<p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p>-->
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('_transcoder_i_o.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Transcoder Input/Output Model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="t_io"></a>
Transcoder Input/Output Requirements and Limitations</h2>
<h3><a class="anchor" id="t_input_stream"></a>
Using file or stream as input</h3>
<ul>
<li>
A file input is always allowed. It is a valid source for all media formats (defined in the <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091">StreamType</a> enumeration).  </li>
<li>
An implementation of <a class="el" href="classprimo_1_1_stream.html" title="The Stream interface can be used to implement a data source or sink.">primo::Stream</a> can be used as input if it supports reading and seeking. A seekable <a class="el" href="classprimo_1_1_stream.html" title="The Stream interface can be used to implement a data source or sink.">primo::Stream</a> is equivalent to a file and therefore it can be used with all media formats (<a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091">StreamType</a>). <dl class="note"><dt><b>Note:</b></dt><dd>A future version of AVBlocks will support the usage of non-seekable streams as Transcoder inputs for certain media formats.  </dd></dl>
</li>
</ul>
<h3><a class="anchor" id="t_input_push"></a>
Using Transcoder push mode to provide input</h3>
<ul>
<li>
Only elementary streams and uncompressed video/audio may be pushed. Container formats cannot be pushed. <br/>
 Elementary stream types and container types are defined in separate ranges in the <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091">StreamType</a> enumeration: <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a3a6776fb1b3aecb2843fa874a86b334a">StreamType::BEGIN_AUDIO</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091ae710662f343dda47429e86908e46f9b8">StreamType::END_AUDIO</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091af1bb796f6ec89c26b784dfc02292d84d">StreamType::BEGIN_VIDEO</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a56633ba2519f2030fc58979dd0caa306">StreamType::END_VIDEO</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a3daa3f75f07eebc6697ba4dad3a856f0">StreamType::BEGIN_CONTAINER</a> and <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a3fa88703b01f403757f04bcc02ae6d5a">StreamType::END_CONTAINER</a>. <dl class="note"><dt><b>Note:</b></dt><dd>A future version of AVBlocks will support push mode for certain container formats.  </dd></dl>
</li>
<li>
When a video stream is pushed the video data must be provided in whole video frames (compressed or uncompressed). The <a class="el" href="classprimo_1_1codecs_1_1_media_sample.html">MediaSample</a> pushed to the transcoder must describe a single video frame. The video frame may be combined with header frames.  </li>
<li>
When an audio stream is pushed the audio data may be pushed in any fragments. </li>
</ul>
<h3><a class="anchor" id="t_output_stream"></a>
Using file or stream as output</h3>
<ul>
<li>
A file output is always allowed. It is a valid sink for all media formats (defined in the <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091">StreamType</a> enumeration ).  </li>
<li>
An implementation of <a class="el" href="classprimo_1_1_stream.html" title="The Stream interface can be used to implement a data source or sink.">primo::Stream</a> can be used as output if it supports writing. For certain media formats seeking is also required. It is needed in order to overwrite some meta structures of the generated stream. Seeking is required for the following media formats: <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a4025728e15f4cee76a85d2cc65ccb565">WAVE</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091ad7976798d52815910e12e755fb063d22">MP4</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091a159688f2e0bb554ed34ec7d32fddcb55">WebM</a>, <a class="el" href="namespaceprimo_1_1codecs_1_1_stream_type.html#a8150b7776c2a1749101acf22e868d091ac8faf63a18512acf08841103c800e361">ASF (Windows Media)</a>.  </li>
</ul>
<h3><a class="anchor" id="t_output_pull"></a>
Using Transcoder pull mode to get output</h3>
<ul>
<li>
Only elementary streams and uncompressed video/audio may be pulled. Container formats cannot be pulled.  </li>
<li>
When a video stream is pulled the retrieved <a class="el" href="classprimo_1_1codecs_1_1_media_sample.html">MediaSample</a> contains a single and complete video frame (compressed or uncompressed). </li>
<li>
When an audio stream is pulled the audio data is retrieved in one or more compressed frames or uncompressed LPCM samples. </li>
</ul>
</div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">
    <a href="http://primosoftware.com" target="_blank">(c) 2012 Primo Software Corporation. All rights reserved.</a>
    </li>
   </ul>
 </div>


</body>
</html>
